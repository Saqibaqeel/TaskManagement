<% layout('layouts/boilerplate') %>
<body>
  <div class="container mt-5 p-5">
    <h2 class="text-center mb-4">Task Form</h2>
    <form action="/tasks/new" method="POST" class="needs-validation" novalidate>
      <div class="mb-3">
        <label for="taskName" class="form-label">Task Name</label>
        <input
          type="text"
          class="form-control"
          id="taskName"
          name="Task[title]"
          placeholder="Enter the task name"
          required
        />
        <div class="invalid-feedback">Please provide a valid task name.</div>
      </div>
      <div class="mb-3">
        <label for="taskDescription" class="form-label">Description</label>
        <textarea
          class="form-control"
          id="taskDescription"
          name="Task[description]"
          rows="3"
          placeholder="Enter task description"
          required
        ></textarea>
        <div class="invalid-feedback">Please provide a task description.</div>
      </div>
      <div class="mb-3">
        <label for="taskDueDate" class="form-label">Due Date</label>
        <input
          type="date"
          class="form-control"
          id="taskDueDate"
          name="Task[dueDate]"
          required
        />
        <div class="invalid-feedback">Please select a valid due date.</div>
      </div>
      <div class="mb-3">
        <label for="taskStatus" class="form-label">Status</label>
        <select
          class="form-select"
          id="taskStatus"
          name="Task[status]"
          required
        >
          <option value="">Select Status</option>
          <option value="pending">Pending</option>
          <option value="in_progress">In Progress</option>
          <option value="completed">Completed</option>
        </select>
        <div class="invalid-feedback">Please select a status.</div>
      </div>
      <button type="submit" class="btn btn-primary">Submit Task</button>
      <a href="/" class="btn btn-secondary btn-sm">Back to Task List</a>
    </form>
  </div>

  <script>
    (function () {
      "use strict";
      var forms = document.querySelectorAll(".needs-validation");
      Array.prototype.slice.call(forms).forEach(function (form) {
        form.addEventListener(
          "submit",
          function (event) {
            if (!form.checkValidity()) {
              event.preventDefault();
              event.stopPropagation();
            }
            form.classList.add("was-validated");
          },
          false
        );
      });
    })();
  </script>
</body>
